<p><head><style>
    body        { background: #fff; margin-left:  40px;   font-size:  0.9em;  font-family: sans-serif; max-width: 800px; }
    h1          { background: #ffb; margin-left: -30px;   border-bottom: 5px  solid #ccc; }
    h2, h3      { background: #ffb; margin-left: -30px;   border-top:    3px  solid #ddd; }
    h4, h5      { background: #ffb; margin-left: -20px; }
    code        { font-size:    1.1em;  background:  #ddf; }
    pre         { margin-left:  2em;    background:  #ddf; }
    pre code    { font-size:    1.1em;  background:  #ddf; }
</style></head></p>

<h1>gitolite in pictures</h1>

<p>Well, they say a picture speaks a thousand words, so here're a few!</p>

<p><strong>NOTE</strong>: if you're viewing this file in raw text, please note that some
characters in text within a ditaa drawing may not be ASCII.  This is due to a
ditaa flaw that treats even a single hyphen as a line drawing character, so I
had to use Unicode 2010 for it.  I expect that I will have to resort to
similar tricks for colon, equals, and many others like it if and when I need
those in text within a ditaa diagram.</p>

<p><a name="_installation_and_setup"></a></p>

<h3>installation and setup</h3>

<p>Here's a picture showing the "non-root" install.  We assume Alice is the
gitolite admin, and "git" is the hosting user on the server.</p>

<img src="images/1000-words-0001" title="Figure 1" />

<p>The files names are there <strong>only for information</strong>.  You do <strong>not</strong> have to do
anything to them yourself; in fact you should not!  You only need the command
for each step shown:</p>

<ol>
<li>copy the admin's pubkey to the server as "alice.pub"</li>
<li><code>git clone git://github.com/sitaramc/gitolite</code> or equivalent</li>
<li><code>gitolite/src/gl-system-install</code></li>
<li><code>gl-setup alice.pub</code></li>
</ol>

<p>Note also that you only need ONE real user on the server.  In our example it
is git.  In particular, you do NOT create Unix userids for your gitolite
users.</p>

<p><a name="_adding_users_to_gitolite"></a></p>

<h3>adding users to gitolite</h3>

<p>Once you've done the install, here's how you add users.</p>

<img src="images/1000-words-0002" title="Figure 2" />

<p>All this is done from the admin (Alice)'s workstation.  The steps are:</p>

<ol>
<li><code>git clone git@server:gitolite-admin</code></li>
<li>obtain pubkeys from each user.  Email, USB, DHL, pigeon post, owl mail,
any method you like.  Rename each received file to the name of the user,
add a ".pub" at the end, copy it into <code>keydir/</code> in the gitolite-admin repo
you cloned.</li>
<li><code>git add keydir</code>, then <code>git commit</code>, then <code>git push</code></li>
</ol>

<p>You do NOT need to add Carol or Bob as <em>real</em> (Unix) users.  You do NOT add
their keys directly anywhere on the server; you do it by cloning, adding keys,
and pushing.</p>

<p><a name="_adding_repos_to_gitolite"></a></p>

<h3>adding repos to gitolite</h3>

<p>Adding a repo is even easier.  It's so easy that you don't really need a
picture.  OK maybe a small one:</p>

<img src="images/1000-words-0003" title="Figure 3" />

<p>Again, all this is done from the admin (Alice)'s workstation.  Steps one and
three are the same as for adding users, but step 2 consists of adding config
lines for whatever repo you want too add.</p>

<ol>
<li><code>git clone git@server:gitolite-admin</code></li>
<li><p>edit <code>conf/gitolite.conf</code> in the repo clone you just made.  Add repo
paragraphs, maybe like this, and save the file:</p>

<pre><code>repo foo
    RW+     =   alice
    RW      =   bob
</code></pre></li>
<li><p><code>git add conf/gitolite.conf</code>, then <code>git commit</code>, then <code>git push</code></p></li>
</ol>

<p>You do NOT add the repos directly anywhere on the server; you do it by
cloning, adding keys, and pushing.</p>
